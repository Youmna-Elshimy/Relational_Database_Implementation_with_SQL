mysql> source solution2.sql;
--------------
# Solution 
--------------

Query OK, 0 rows affected (0.00 sec)

--------------
CREATE TABLE BRANCH(
	branch_name VARCHAR(20) NOT NULL,
	bldg_number DECIMAL(5) NOT NULL,  
	street VARCHAR(200) NOT NULL,     
	city VARCHAR(20) NOT NULL,
	total_employees DECIMAL(3) NULL,
CONSTRAINT branch_pkey PRIMARY KEY(branch_name),
CONSTRAINT branch_ckey UNIQUE KEY(bldg_number, street, city))
--------------

Query OK, 0 rows affected (0.06 sec)

--------------
CREATE TABLE EMPLOYEE(
	name VARCHAR(30) NOT NULL,
    employee_number DECIMAL(6) NOT NULL, # or varchar
    first_name VARCHAR(30) NOT NULL,
    last_name VARCHAR(30) NOT NULL,
    date_of_birth DATE NOT NULL,
    position VARCHAR(20) NOT NULL,
CONSTRAINT employee_pkey PRIMARY KEY(name, employee_number),
CONSTRAINT employee_ckey UNIQUE KEY(first_name, last_name, date_of_birth),
CONSTRAINT employee_fkey FOREIGN KEY(name) REFERENCES BRANCH(branch_name),
CONSTRAINT employee_check CHECK(employee_number BETWEEN 100000 AND 999999)) 
# If employee must contains 6 digits and use decimal type to keep data.
--------------

Query OK, 0 rows affected (0.04 sec)

--------------
CREATE TABLE CLIENT(
	client_phone_number VARCHAR(10) NOT NULL, # or DECIMAL or char 
    first_name VARCHAR(20) NOT NULL,
    last_name VARCHAR(20) NOT NULL,
    client_type VARCHAR(20) NOT NULL,
    branch_name VARCHAR(20) NOT NULL,
    agent_number DECIMAL(6) NOT NULL,
CONSTRAINT client_pkey PRIMARY KEY(client_phone_number),
CONSTRAINT client_fkey FOREIGN KEY(branch_name, agent_number) REFERENCES EMPLOYEE(name, employee_number),
CONSTRAINT client_check CHECK(client_type IN ('buyer', 'owner')),
CONSTRAINT client_check2 CHECK(client_phone_number regexp '^[0-9]{10}$') 
# Best solution is to use varchar or char and use check to ensure that it is a number and contains exactly 10 digits.
)
--------------

Query OK, 0 rows affected (0.04 sec)

--------------
CREATE TABLE PROPERTY(
	lot_no DECIMAL(5) NOT NULL,
    street VARCHAR(200) NOT NULL,
    city VARCHAR(20) NOT NULL,
    asking_price DECIMAL(10,2) NOT NULL,
    owner_phone_number VARCHAR(10) NOT NULL,  
    # design is number how ever VARCHAR is used in CLIENT table for client_phone_number. Hence, it change to match with the CLIENT table.
CONSTRAINT property_pkey PRIMARY KEY(lot_no, street, city),
CONSTRAINT property_fkey FOREIGN KEY(owner_phone_number) REFERENCES CLIENT(client_phone_number),
CONSTRAINT property_check CHECK(asking_price BETWEEN 0.00 AND 99999999.99))
--------------

Query OK, 0 rows affected (0.02 sec)

--------------
CREATE TABLE OFFER(
	client_phone_number VARCHAR(10) NOT NULL,
    lot_no DECIMAL(5) NOT NULL,
    street VARCHAR(200) NOT NULL,
    city VARCHAR(20) NOT NULL,
    offer_date DATE NOT NULL,
    minimum_price DECIMAL(10,2) NOT NULL,
    maximum_price DECIMAL(10,2) NOT NULL,
CONSTRAINT offer_pkey PRIMARY KEY(client_phone_number, lot_no, street, city, offer_date),
CONSTRAINT offer_fkey1 FOREIGN KEY(client_phone_number) REFERENCES CLIENT(client_phone_number),
CONSTRAINT offer_fkey2 FOREIGN KEY(lot_no, street, city) REFERENCES PROPERTY(lot_no, street, city),
CONSTRAINT offer_check1 CHECK(minimum_price BETWEEN 0.00 AND 99999999.99),
CONSTRAINT offer_check2 CHECK(maximum_price BETWEEN 0.00 AND 99999999.99))
--------------

Query OK, 0 rows affected (0.01 sec)

mysql> notee
